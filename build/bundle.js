/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/file-saver/dist/FileSaver.min.js":
/*!*******************************************************!*\
  !*** ./node_modules/file-saver/dist/FileSaver.min.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(a,b){if(true)!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (b),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Depricated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;return b.open(\"HEAD\",a,!1),b.send(),200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}};f.saveAs=a.saveAs=a, true&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./node_modules/file-saver/dist/FileSaver.min.js?");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval(" //icons http://svgicons.sparkk.fr/\n//import { saveAs } from '../libraries/js/FileSaver.min.js'\n\nvar _require = __webpack_require__(/*! file-saver */ \"./node_modules/file-saver/dist/FileSaver.min.js\"),\n    saveAs = _require.saveAs; //######################### const #########################\n\n\nvar w = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\nvar graphWidth = 1280;\nvar graphHeight = 650;\nvar arrowHeight = 5;\nvar arrowWidth = 5;\nvar neo4jAPIURL = 'http://localhost:7474/db/data/transaction/commit';\nvar neo4jLogin = 'neo4j';\nvar neo4jPassword = '1234';\nvar circleSize = 22;\nvar textPosOffsetY = 5;\nvar collideForceSize = circleSize + 5;\nvar linkForceSize = 150;\nvar iconPosOffset = {\n  lock: [23, -33],\n  info: [23, -10],\n  cross: [23, 13],\n  desc: [23, 35]\n};\nvar lockIconSVG = 'm18,8l-1,0l0,-2c0,-2.76 -3.28865,-5.03754 -5,-5c-1.71135,0.03754 -5.12064,0.07507 -5,4l1.9,0c0,-1.71 1.39,-2.1 3.1,-2.1c1.71,0 3.1,1.39 3.1,3.1l0,2l-9.1,0c-1.1,0 -2,0.9 -2,2l0,10c0,1.1 0.9,2 2,2l12,0c1.1,0 2,-0.9 2,-2l0,-10c0,-1.1 -0.9,-2 -2,-2zm0,12l-12,0l0,-10l12,0l0,10z';\nvar crossIconSVG = 'M10.185,1.417c-4.741,0-8.583,3.842-8.583,8.583c0,4.74,3.842,8.582,8.583,8.582S18.768,14.74,18.768,10C18.768,5.259,14.926,1.417,10.185,1.417 M10.185,17.68c-4.235,0-7.679-3.445-7.679-7.68c0-4.235,3.444-7.679,7.679-7.679S17.864,5.765,17.864,10C17.864,14.234,14.42,17.68,10.185,17.68 M10.824,10l2.842-2.844c0.178-0.176,0.178-0.46,0-0.637c-0.177-0.178-0.461-0.178-0.637,0l-2.844,2.841L7.341,6.52c-0.176-0.178-0.46-0.178-0.637,0c-0.178,0.176-0.178,0.461,0,0.637L9.546,10l-2.841,2.844c-0.178,0.176-0.178,0.461,0,0.637c0.178,0.178,0.459,0.178,0.637,0l2.844-2.841l2.844,2.841c0.178,0.178,0.459,0.178,0.637,0c0.178-0.176,0.178-0.461,0-0.637L10.824,10z';\nvar infoIconSVG = 'M17.218,2.268L2.477,8.388C2.13,8.535,2.164,9.05,2.542,9.134L9.33,10.67l1.535,6.787c0.083,0.377,0.602,0.415,0.745,0.065l6.123-14.74C17.866,2.46,17.539,2.134,17.218,2.268 M3.92,8.641l11.772-4.89L9.535,9.909L3.92,8.641z M11.358,16.078l-1.268-5.613l6.157-6.157L11.358,16.078z';\nvar descIconSVG = 'M10.219,1.688c-4.471,0-8.094,3.623-8.094,8.094s3.623,8.094,8.094,8.094s8.094-3.623,8.094-8.094S14.689,1.688,10.219,1.688 M10.219,17.022c-3.994,0-7.242-3.247-7.242-7.241c0-3.994,3.248-7.242,7.242-7.242c3.994,0,7.241,3.248,7.241,7.242C17.46,13.775,14.213,17.022,10.219,17.022 M15.099,7.03c-0.167-0.167-0.438-0.167-0.604,0.002L9.062,12.48l-2.269-2.277c-0.166-0.167-0.437-0.167-0.603,0c-0.166,0.166-0.168,0.437-0.002,0.603l2.573,2.578c0.079,0.08,0.188,0.125,0.3,0.125s0.222-0.045,0.303-0.125l5.736-5.751C15.268,7.466,15.265,7.196,15.099,7.03';\nvar boxSVG = 'M0 0 L23 0 L23 23 L0 23 Z'; //######################### variable #########################\n\nvar nodeItemMap = {};\nvar linkItemMap = {};\nvar iconLock;\nvar iconCross;\nvar iconInfo;\nvar iconDesc;\nvar nodes = [];\nvar edges = [];\nvar neo_input_json;\nvar modified_json;\nvar currentNode = null;\nvar d3Simulation = null;\nvar circles;\nvar circleText;\nvar lines;\nvar lineText;\nvar currentID = null;\nvar currentAccessionID = null;\nvar itemColorMap = {};\nvar colorScale = d3.scaleOrdinal(d3.schemeSet2);\nvar drag_handler = d3.drag().on('start', drag_start).on('drag', drag_move).on('end', drag_end);\nvar zoom_handler = d3.zoom().filter(function () {\n  //Only enable wheel zoom and mousedown to pan\n  return d3.event.type == 'wheel' | d3.event.type == 'mousedown';\n}).on('zoom', zoom_actions);\n\nfunction unfreezeItms() {\n  var nodeItmArray = d3Simulation.nodes();\n\n  if (nodeItmArray != null) {\n    nodeItmArray.forEach(function (nodeItm) {\n      if (nodeItm.fx != null) {\n        nodeItm.fx = null;\n        nodeItm.fy = null;\n      }\n    });\n  }\n}\n\nfunction drag_start(d) {\n  //if (!d3.event.active && d3Simulation != null)\n  d3Simulation.alphaTarget(0.3).restart();\n  d.fx = d.x;\n  d.fy = d.y;\n}\n\nfunction drag_move(d) {\n  d.fx = d3.event.x;\n  d.fy = d3.event.y;\n}\n\nfunction drag_end(d) {\n  if (!d3.event.active && d3Simulation != null) d3Simulation.alphaTarget(0); //d.fx = null;\n  //d.fy = null;\n}\n\nfunction zoom_actions() {\n  d3.select('#resultSvg').select('g').attr('transform', d3.event.transform);\n}\n\nfunction initGraph() {\n  var svg = d3.select('#resultSvg');\n  var zoomGLayer = svg.append('g');\n  var centerX = graphWidth / 4;\n  var centerY = graphHeight / 4;\n  svg.attr('width', graphWidth).attr('height', graphHeight);\n  zoomGLayer.append('g').attr('id', 'path-group').attr('transform', 'translate(' + centerX + ',' + centerY + ')');\n  zoomGLayer.append('g').attr('id', 'path-label-group').attr('transform', 'translate(' + centerX + ',' + centerY + ')');\n  zoomGLayer.append('g').attr('id', 'circle-group').attr('transform', 'translate(' + centerX + ',' + centerY + ')');\n  zoomGLayer.append('g').attr('id', 'text-group').attr('transform', 'translate(' + centerX + ',' + centerY + ')');\n  zoomGLayer.append('g').attr('id', 'control-icon-group').attr('transform', 'translate(' + centerX + ',' + centerY + ')');\n  zoom_handler(svg);\n}\n\nfunction tick() {\n  lines.attr('d', drawLine); //lineText.attr('transform', transformPathLabel);\n\n  circles.attr('transform', transform);\n  circleText.attr('transform', transform);\n  iconLock.attr('transform', function (d) {\n    return transformIcon(d, 'lock');\n  });\n  iconCross.attr('transform', function (d) {\n    return transformIcon(d, 'cross');\n  });\n  iconInfo.attr('transform', function (d) {\n    return transformIcon(d, 'info');\n  });\n  iconDesc.attr('transform', function (d) {\n    return transformIcon(d, 'desc');\n  });\n}\n\nfunction transformPathLabel(d) {\n  var sourceX = d.source.x + (d.target.x - d.source.x) / 2;\n  var sourceY = d.source.y + (d.target.y - d.source.y) / 2;\n  return 'translate(' + sourceX + ',' + sourceY + ')';\n}\n\nfunction transform(d) {\n  return 'translate(' + d.x + ',' + d.y + ')';\n}\n\nfunction transformIcon(d, type) {\n  var sourceX = d.x + iconPosOffset[type][0];\n  var sourceY = d.y + iconPosOffset[type][1];\n  return 'translate(' + sourceX + ',' + sourceY + ')';\n}\n\nfunction drawLine(d) {\n  var deltaX, deltaY, dist, cosTheta, sinTheta, sourceX, sourceY, targetX, targetY;\n  deltaX = d.target.x - d.source.x;\n  deltaY = d.target.y - d.source.y;\n  dist = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n  cosTheta = deltaX / dist;\n  sinTheta = deltaY / dist;\n  sourceX = d.source.x + circleSize * cosTheta;\n  sourceY = d.source.y + circleSize * sinTheta;\n  targetX = d.target.x - circleSize * cosTheta, targetY = d.target.y - circleSize * sinTheta; //Not use marker as IE does not support it and so embed the arrow in the path directly\n\n  var arrowLeftX, arrowLeftY, arrowRightX, arrowRightY;\n  arrowLeftX = targetX - arrowHeight * sinTheta - arrowWidth * cosTheta;\n  arrowLeftY = targetY + arrowHeight * cosTheta - arrowWidth * sinTheta;\n  arrowRightX = targetX + arrowHeight * sinTheta - arrowWidth * cosTheta;\n  arrowRightY = targetY - arrowHeight * cosTheta - arrowWidth * sinTheta;\n  return 'M' + sourceX + ' ' + sourceY + ' L' + targetX + ' ' + targetY + ' M' + targetX + ' ' + targetY + ' L' + arrowLeftX + ' ' + arrowLeftY + ' L' + arrowRightX + ' ' + arrowRightY + ' Z';\n}\n\nfunction clearProperties() {\n  $('#propertiesBox > #props').empty();\n  $('#propertiesBox > table').empty();\n}\n\nfunction showProperties(d) {\n  if (currentNode != null) {\n    d = currentNode;\n  } else {\n    d = d;\n  }\n\n  clearProperties();\n  var propertiesText = '';\n  var link = '';\n  var ex_labs = ['p_ind', 'acs_ind'];\n  var name = ''; //NODE PROPERTIES\n\n  $.map(d.properties, function (value, key) {\n    if (!ex_labs.includes(key)) {\n      propertiesText += key + ': ' + value + '<br/><br/>';\n    }\n  }); //TABLE\n\n  $('#table_div').append(\"<thead><th colspan='3'>Connected to</th></thead><tbody></tbody>\");\n  $.map(linkItemMap, function (value, key) {\n    if (value.startNode == d.id) {\n      name = value.target.labels[0] + ' number';\n      $('#table_div > tbody').append('<tr>' + '<td>' + name + '</td>' + '<td>' + value.target.properties.Database + '</td>' + '<td id=\"acc\">' + value.target.properties.Term + '</td>' + '</tr>');\n    }\n\n    if (value.endNode == d.id) {\n      name = value.source.labels[0];\n      $('#table_div > tbody').append('<tr>' + '<td>' + name + '</td>' + '<td>' + value.source.properties.Title + '</td>' + '<td id=\"PMCID\">' + value.source.properties.PMCID + '</td>' + '</tr>');\n    }\n  });\n  propertiesTableSelector(d); //LINKS\n\n  if (Object.keys(d.properties).includes('PMCID')) {\n    link = 'https://europepmc.org/abstract/PMC/' + d.properties.PMCID;\n  } else if (!Object.keys(d.properties).includes('PMCID')) {\n    link = 'https://europepmc.org/abstract/MED/' + d.properties.PMID;\n  }\n\n  $('#propertiesBox > #props').append($('<p></p>').html(propertiesText));\n  $('#open_article').attr('href', link);\n}\n\nfunction updateGraph() {\n  currentID = $.trim($('#queryText').val());\n\n  if (currentID.substr(0, 4).toLowerCase() == 'acc:') {\n    currentAccessionID = currentID.substr(4);\n    currentID = null;\n  }\n\n  var d3LinkForce = d3.forceLink().distance(linkForceSize).links(mapToArray(linkItemMap)).id(function (d) {\n    return d.id;\n  });\n  d3Simulation = d3.forceSimulation().force('charge', d3.forceManyBody().strength(-250)).force('collideForce', d3.forceCollide(collideForceSize).iterations(1)) //.force('center', d3.forceCenter(100, 100))\n  .force('x', d3.forceX(graphWidth / 4).strength(0.03)).force('y', d3.forceY(graphHeight / 4).strength(0.03)).nodes(mapToArray(nodeItemMap)).force('linkForce', d3LinkForce);\n  circles = d3.select('#circle-group').selectAll('circle').data(d3Simulation.nodes(), function (d) {\n    return d.id;\n  });\n  circleText = d3.select('#text-group').selectAll('text').data(d3Simulation.nodes(), function (d) {\n    return d.id;\n  });\n  lines = d3.select('#path-group').selectAll('path').data(d3LinkForce.links(), function (d) {\n    return d.id;\n  });\n  /*  lineText = d3.select('#path-label-group').selectAll('text')\r\n        .data(d3LinkForce.links(), function(d) {return d.id;});*/\n\n  /* ICONS */\n\n  iconLock = d3.select('#control-icon-group').selectAll('g.lockIcon').data([], function (d) {\n    return d.id;\n  });\n  iconCross = d3.select('#control-icon-group').selectAll('g.crossIcon').data([], function (d) {\n    return d.id;\n  });\n  iconInfo = d3.select('#control-icon-group').selectAll('g.infoIcon').data([], function (d) {\n    return d.id;\n  });\n  iconDesc = d3.select('#control-icon-group').selectAll('g.descIcon').data([], function (d) {\n    return d.id;\n  });\n  iconLock.exit().remove();\n  iconCross.exit().remove();\n  iconInfo.exit().remove();\n  iconDesc.exit().remove();\n  /* NODES AND LINKS */\n\n  circles.exit().remove();\n  circles = circles.enter().append('circle').attr('r', circleSize).attr('fill', function (d) {\n    return nodeColor(d, '#1E90FF');\n  }).attr('stroke', 'black').call(drag_handler).on('mouseover', function (d) {\n    d3.select(this).attr('fill', function (d) {\n      return nodeColorBrighter(d, '#AFEEEE');\n    }).attr('stroke', 'gray');\n    showProperties(d);\n  }).on('mouseout', function (d) {\n    d3.select(this).attr('fill', function (d) {\n      return nodeColor(d, '#1E90FF');\n    }).attr('stroke', 'black');\n  }).on('dblclick', function (d) {\n    d.fx = d.x;\n    d.fy = d.y;\n    submitQuery(d.id);\n  }).on('click', function (d) {\n    nodeMenu(d);\n  }).merge(circles);\n  circleText.exit().remove();\n  circleText = circleText.enter().append('text').attr('y', textPosOffsetY).attr('text-anchor', 'middle').text(function (d) {\n    if (d.labels[0] == 'Paper') {\n      var t = d.properties.Title;\n    } else {\n      var t = d.properties.Term;\n    }\n\n    return t.substr(0, 7);\n  }).merge(circleText);\n  lines.exit().remove();\n  lines = lines.enter().append('path').merge(lines);\n  /*\r\n      lineText.exit().remove();\r\n      lineText = lineText.enter().append('text')\r\n        .attr('y', textPosOffsetY)\r\n        .attr('text-anchor', 'middle')\r\n        .text(null)  //function(d) {return d.type;}\r\n        .merge(lineText);\r\n  */\n\n  d3Simulation.on('tick', tick).on('end', function () {\n    unfreezeItms();\n  });\n}\n\nfunction removeNode(d) {\n  delete nodeItemMap[d.id];\n  $.map(linkItemMap, function (value, key) {\n    if (value.startNode == d.id || value.endNode == d.id) delete linkItemMap[key];\n  });\n  $('#context').css('display', 'none');\n  updateGraph();\n}\n\nfunction propertiesTableSelector(d) {\n  var propertiesNode = d.id;\n  var selectedrow = null;\n  var lineselection = null;\n  $('#table_div > tbody > tr').on('mouseover', function () {\n    var selector = null;\n    var selection = null;\n    var tpaper = $(this).children('#PMCID').text() || null;\n    var tacc = $(this).children('#acc').text() || null;\n\n    if (tpaper != null) {\n      selector = 'PMCID';\n      selection = tpaper;\n    } else if (tacc != null) {\n      selector = 'Term';\n      selection = tacc;\n    }\n\n    d3.select('#circle-group').selectAll('circle').filter(function (d) {\n      if (d.properties[selector] == selection) {\n        selectedrow = d.id;\n        d3.select(this).style('fill', '#fcc200');\n      }\n    });\n    d3.select('#path-group').selectAll('path').filter(function (d) {\n      if (d.source.id == selectedrow && d.target.id == propertiesNode || d.source.id == propertiesNode && d.target.id == selectedrow) {\n        lineselection = d.index;\n        d3.select(this).style('stroke', '#fcc200').style('stroke-width', '3px');\n      }\n    });\n  });\n  $('#table_div > tbody > tr').on('mouseout', function () {\n    d3.select('#circle-group').selectAll('circle').filter(function (d) {\n      if (d.id == selectedrow) {\n        d3.select(this).style('fill', null);\n      }\n    });\n    d3.select('#path-group').selectAll('path').filter(function (d) {\n      if (d.index == lineselection) {\n        d3.select(this).style('stroke', 'DimGrey').style('stroke-width', '1.5px');\n      }\n    });\n  });\n}\n\nfunction stopSimulation() {\n  if (d3Simulation != null) {\n    d3Simulation.stop().on('tick', null);\n    d3Simulation = null;\n  }\n}\n\nfunction nodeColor(d, color) {\n  var col = '';\n\n  if (currentID == null && d.properties.Term == currentAccessionID) {\n    col = color;\n  } else if (currentID !== null && (d.properties.PMCID == currentID || d.properties.PMID == currentID)) {\n    col = color;\n  } else {\n    col = getItemColor(d);\n  }\n\n  return col;\n}\n\nfunction nodeColorBrighter(d, color) {\n  var col = '';\n\n  if (currentID == null && d.properties.Term == currentAccessionID) {\n    col = color;\n  } else if (currentID !== null && (d.properties.PMCID == currentID || d.properties.PMID == currentID)) {\n    col = color;\n  } else {\n    col = getColorBrighter(getItemColor(d));\n  }\n\n  return col;\n}\n\nfunction getItemColor(d) {\n  if (!(d.labels[0] in itemColorMap)) itemColorMap[d.labels[0]] = colorScale(d.labels[0]);\n  return itemColorMap[d.labels[0]];\n}\n\nfunction getColorBrighter(targetColor) {\n  return d3.rgb(targetColor).brighter(0.7).toString();\n}\n\nfunction nodeMenu(d) {\n  var selectedNode = d;\n  iconLock = d3.select('#control-icon-group').selectAll('g.lockIcon').data([d], function (d) {\n    return d.id;\n  });\n  iconCross = d3.select('#control-icon-group').selectAll('g.crossIcon').data([d], function (d) {\n    return d.id;\n  });\n  iconInfo = d3.select('#control-icon-group').selectAll('g.infoIcon').data([d], function (d) {\n    return d.id;\n  });\n  iconDesc = d3.select('#control-icon-group').selectAll('g.descIcon').data([d], function (d) {\n    return d.id;\n  });\n  iconLock.exit().remove();\n  iconLock.remove();\n  iconCross.exit().remove();\n  iconCross.remove();\n  iconInfo.exit().remove();\n  iconInfo.remove();\n  iconDesc.exit().remove();\n  iconDesc.remove();\n  var iconLockEnter = iconLock.enter().append('g').attr('class', 'lockIcon').attr('transform', function (d) {\n    return transformIcon(d, 'lock');\n  }).on('click', function (d) {\n    d.fx = null;\n    d.fy = null;\n    iconLock.remove();\n    iconCross.remove();\n    iconInfo.remove();\n    iconDesc.remove();\n  });\n  var iconCrossEnter = iconCross.enter().append('g').attr('class', 'crossIcon').attr('transform', function (d) {\n    return transformIcon(d, 'cross');\n  }).on('click', function (d) {\n    removeNode(d);\n    updateGraph();\n  });\n  var iconInfoEnter = iconInfo.enter().append('g').attr('class', 'infoIcon').attr('transform', function (d) {\n    return transformIcon(d, 'info');\n  }).on('click', function (d) {\n    var link = '';\n\n    if (Object.keys(d.properties).includes('PMCID')) {\n      link = 'https://europepmc.org/abstract/PMC/' + d.properties.PMCID;\n    } else if (!Object.keys(d.properties).includes('PMCID')) {\n      link = 'https://europepmc.org/abstract/MED/' + d.properties.PMID;\n    }\n\n    window.open(link);\n    iconLock.remove();\n    iconCross.remove();\n    iconInfo.remove();\n    iconDesc.remove();\n  });\n  var iconDescEnter = iconDesc.enter().append('g').attr('class', 'descIcon').attr('transform', function (d) {\n    return transformIcon(d, 'desc');\n  }).on('click', function (d) {\n    console.log(d3.select('#control-icon-group').selectAll('g.descIcon path').style('fill', '#fcc200').style('stroke', 'white'));\n    d3.select('#circle-group').selectAll('circle').filter(function (d) {\n      if (d.id == selectedNode.id) {\n        if (d3.select(this).attr('clicked') != 'true') {\n          d3.select(this).style('fill', '#fcc200').attr('clicked', 'true');\n          currentNode = d;\n        } else if (d3.select(this).attr('clicked') == 'true') {\n          d3.select(this).style('fill', null).attr('clicked', 'false');\n          currentNode = null;\n          iconLock.remove();\n          iconCross.remove();\n          iconInfo.remove();\n          iconDesc.remove();\n        }\n      }\n    });\n  });\n  iconLockEnter.append('path').attr('class', 'overlay').attr('d', boxSVG);\n  iconLockEnter.append('path').attr('d', lockIconSVG).append('svg:title').text('Release node');\n  iconCrossEnter.append('path').attr('class', 'overlay').attr('d', boxSVG);\n  iconCrossEnter.append('path').attr('d', crossIconSVG).append('svg:title').text('Delete node');\n  iconInfoEnter.append('path').attr('class', 'overlay').attr('d', boxSVG);\n  iconInfoEnter.append('path').attr('d', infoIconSVG).append('svg:title').text('Open node in external site');\n  iconDescEnter.append('path').attr('class', 'overlay').attr('d', boxSVG);\n  iconDescEnter.append('path').attr('d', descIconSVG).append('svg:title').text('Lock description');\n  iconLock = iconLockEnter.merge(iconLock);\n  iconCross = iconCrossEnter.merge(iconCross);\n  iconInfo = iconInfoEnter.merge(iconInfo);\n  iconDesc = iconDescEnter.merge(iconDesc);\n}\n\n$(function () {\n  $('[data-toggle=\"popover\"]').popover({\n    container: 'body'\n  });\n}); //Page Init\n\n$(function () {\n  setupNeo4jLoginForAjax(neo4jLogin, neo4jPassword);\n  initGraph();\n  $('#queryText').keyup(function (e) {\n    if (e.which == 13) {\n      submitQuery();\n    }\n  });\n  $('#btnSend').click(function () {\n    submitQuery();\n  });\n  $('#save_as_json').on('click', function () {\n    save_as_json(neo_input_json);\n  });\n  $('#save_as_gml_gephi').on('click', function () {\n    save_as_gml_gephi(modified_json);\n  });\n  $('#save_as_gml_vos').on('click', function () {\n    save_as_gml_vos(modified_json);\n  });\n  $('#save_as_xgmml').on('click', function () {\n    save_as_xgmml(modified_json);\n  });\n  $('#save_as_svg').on('click', save_as_svg);\n  $('#display_title').click(function () {\n    $(this).attr('class', 'dropdown-item active');\n    $('#display_id').attr('class', 'dropdown-item');\n    circleText.text(function (d) {\n      if (d.labels[0] == 'Paper') {\n        var t = d.properties.Title.substr(0, 5) + '..';\n      } else {\n        var t = d.properties.Term;\n      }\n\n      return t.substr(0, 7);\n    });\n    updateGraph();\n  });\n  $('#display_id').click(function () {\n    $(this).attr('class', 'dropdown-item active');\n    $('#display_title').attr('class', 'dropdown-item');\n    circleText.text(function (d) {\n      if (d.labels[0] == 'Paper') {\n        var t = d.properties.PMCID.substr(3) || d.properties.PMID;\n      } else {\n        var t = d.properties.Term;\n      }\n\n      return t.substr(0, 7);\n    });\n    updateGraph();\n  });\n  $('#display_legend').click(function () {\n    if ($(this).attr('class') == 'dropdown-item') {\n      $('#legend').css('display', 'block');\n      $(this).attr('class', 'dropdown-item active');\n    } else {\n      $('#legend').css('display', 'none');\n      $(this).attr('class', 'dropdown-item');\n    }\n  });\n  $('#chkboxCypherQry').change(function () {\n    if (this.checked) $('#queryText').prop('placeholder', 'Cypher');else $('#queryText').prop('placeholder', 'Enter PMCID, PMID or acc:Accession Number');\n  });\n});\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ })

/******/ });